[[矩阵she'j
## Hadamard SPI的2D数学模型
传统上,在使用1D的方式来描述Hadmard SPI的测量数学模型：$Y=HX，$
其中$X\in R^{N^2 \times 1}$,$H\in R^{N^2\times N^2}$ and H denotes the original natural order Hadamard matrix or the reordered Hadamard matrix. 这种基于1D方式很适合压缩感知相关理论的数学模型，它实际上只适合测量矩阵为随机矩阵时，并不适合当信号是二维图像且测量矩阵是正交变换的情形。因为1D矢量化表示的测量信号无法体现SPI在二维变换上的频率分布。

我们首先定义1D的Walsh-Hadamard transform，$F=W \times X$


二维矩阵的方式来描述2D的hadamard transform

我们先定义一维的哈达玛变换
					$f=W \times x$
					其中X是1D的信号，W是Walsh matrix
我们将W的每一行定义为Walsh-Hadamard matrix,注意W是Walsh矩阵，其特点在于相邻的测量矩阵的sign change的次数是递增的。我们使用gray code sequence的方式来分析其构造过程。

下面基于1D的Walsh变换定义2D的哈达玛变化的数学模型：
$Y_{m \times n}=W_{m \times n} X_{n \times n} W_{n \times m}^{\top}$
其中F是2D的频域矩阵，W是Walsh矩阵，X是2D的图像矩阵，相较于eq1的构造方式，W的size和X的

	$Y_{m \times n}=W_{m \times n} X_{n \times n} W_{n \times m}^{\top}$
$Y$中每个元素$Y_{ij}$可以由公式给出$Y_{i j}=\left(W_i\right)_{1 \times n} X_{n \times n}\left(W_j^{\prime}\right)_{n \times 1}$
该公式等价于：$\left\langle w_i^{\top} \otimes w_j, X\right\rangle$的形式，在附录中证明, 即$Y_{ij}$的元素可以一张2D的Hadamard pattern和 2D图像X的对应元素相乘，这对应于我们熟悉的测量过程
$\boldsymbol{Y}_i=\sum_{x=1}^M \sum_{y=1}^N \boldsymbol{P}_i(x, y) \boldsymbol{X}(x, y)$，每张测量pattern可以由$w_i^{\top} \otimes w_j$的形式给出。为了分析实际参与成像的性质，我们首先分析1D Walsh 测量基的构造过程。

我们采用文中的递归方法构造方法来分析1D的性质。
这种递归方法特别地，我们要注意这种构造方式3个特点。1、每个basis vector由$\alpha$来控制。2、使用一个sequence来记录每个basis vector。3、

在2D的情况下使用一个合成的sequence来记录2D分布的basis pattern。这个sequence可以写成一个，实际上

## 索引矩阵

为什么Walsh矩阵可以对应到2D的哈达玛频域？
如何将1D的探测器序列对应到2D的F的矩阵？转化关系在文中给出
哈达玛自然序和构造历史的关系？


## 构造优化顺序的构造过程


1、2 写sequency的order
3、4写
